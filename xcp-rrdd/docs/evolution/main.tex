%

\documentclass{article}

\usepackage{a4wide}
\usepackage{graphics}
\usepackage{longtable}
\usepackage{fancyhdr}
\usepackage{url}

\newcommand{\eqdef}{\stackrel{def}{=}}

\setlength\topskip{0cm}
\setlength\topmargin{0cm}
\setlength\oddsidemargin{0cm}
\setlength\evensidemargin{0cm}
%\setlength\parindent{0pt}

\input{globals}

\begin{document}

% The coversheet itself
\include{coversheet}

% ... and off we go!

\section{Introduction}
All APIs evolve as bugs are fixed, new features added and features are removed -- the XenAPI is no exception. This document lists policies describing how the XenAPI evolves over time.

The goals of XenAPI evolution are:
\begin{itemize}
\item to allow bugs to be fixed efficiently\footnote{Some would consider even a bugfix to be a semantic change which breaks backwards compatability -- what if someone is relying on the buggy behaviour?};
\item to allow new, innovative features to be added easily;
\item to keep old, unmodified clients working as much as possible; and
\item where backwards-incompatible changes are to be made, publish this information early to enable affected parties to give timely feedback.
\end{itemize}

\section{Background}
In this document, the term ``XenAPI'' refers to the XMLRPC-derived wire protocol used by xapi. The XenAPI has ``objects'' which each have ``fields'' and ``messages''. The XenAPI is described in detail elsewhere.

\section{Deprecation policy v1}
\begin{enumerate}

\item XenAPI ``fields'' and ``messages'' may be marked as
\begin{verbatim}
deprecated_since <release>
\end{verbatim}
where \texttt{<release>} identifies a major release of the software.

\item Every release must be accompanied by a {\em deprecation statement} which lists all fields and messages marked as deprecated in the release. Next to each deprecated item should be an explanation of how to modify a client to avoid using the deprecated field or message.

\item The deprecation statement shall be prominently displayed in the XenAPI html documentation.

\item Fields and messages marked as deprecated will continue to exist for at least one more major software release.

\item Eventually the deprecated fields and messages will be deleted.
\end{enumerate}

\subsection{Shortcomings of this policy}
\begin{itemize}
\item The current policy deals only with syntax (presence/absence of fields and messages) but not semantics. We still need a way to communicate semantic changes.
\item Some changes are issued quickly between major software releases (e.g.\ security hotfixes). We need a way to publish this information quickly.

\item Perhaps we should guarantee fields and messages should live for some period of wallclock time rather than talk about major releases?
\end{itemize}

\include{fdl}

\end{document}
